name: CI for spectrum4
on: push
jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - name: checkout code
        uses: actions/checkout@v2
      - name: build and test spectrum4
        run: ./tup-under-docker.sh
      - name: ensure no local file changes present
        run: git status && test $(git status --porcelain | wc -l) == 0
