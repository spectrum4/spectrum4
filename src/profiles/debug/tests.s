# This file is part of the Spectrum +4 Project.
# Licencing information can be found in the LICENCE file
# (C) 2019 Spectrum +4 Authors. All rights reserved.

# This file is auto-generated by all.sh. DO NOT EDIT!

# The code is generated from the files in the /src/profiles/debug/testcases
# directory.

.text
.align 2


run_tests:
  stp     x29, x30, [sp, #-16]!
  mov     x29, sp
  bl      test_po_change_case_1
  ldp     x29, x30, [sp], #16
  ret


test_po_change_case_1:
  stp     x29, x30, [sp, #-16]!
  mov     x29, sp
  adr     x0, po_change_case_1_str
  bl      log_test_name
  bl      random_sysvars
  adr     x0, po_change_case_1_channel_block
  str     x0, [x28, CURCHL-sysvars]
  bl      random_registers
  adr     x28, sysvars
  adr     x4, po_change_case_1_new_input_routine
  push_registers
  bl      push_sysvars
  bl      po_change
  push_registers
  bl      push_sysvars
  bl      check_sp_matches_x29
  ldr     w0, =0b01111111111111111111111111011111
  bl      test_registers_preserved
  mov     w0, #5
  adr     x1, po_change_case_1_channel_block
  bl      test_register_equals
  adr     x0, po_change_case_1_corrupted_sysvars
  bl      test_uncorrupted_sysvars
  ldr     x0, [x28, CURCHL-sysvars]
  adr     x1, po_change_case_1_channel_block
  bl      test_equal
  mov     sp, x29
  ldp     x29, x30, [sp], #16
  ret


po_change_case_1_str:
  .asciz "po_change test case 1"

po_change_case_1_corrupted_sysvars:
  .byte 0

.align 3
po_change_case_1_old_input_routine:
  .quad 0x12345678

.align 3
po_change_case_1_new_input_routine:
  .quad 0x87654321

.align 3
po_change_case_1_channel_block:
  .quad po_change_case_1_old_input_routine
