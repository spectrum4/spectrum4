# This file is part of the Spectrum +4 Project.
# Licencing information can be found in the LICENCE file
# (C) 2021 Spectrum +4 Authors. All rights reserved.

.text


init_mode_1_setup:
  _strb   0x00, FLAGS
  _strb   0x00, FLAGS3
  _strb   0x00, TV_FLAG
  ret

init_mode_1_effects:
  _strb   0x82, 0xEC0D
  _strb   0x14, 0xEC15
  _strb   0x00, 0xF6EE
  _strb   0x00, 0xF6EF
  _strb   0x00, 0xF6F0
  _strb   0x04, 0xF6F1
  _strb   0x10, 0xF6F2
  _strb   0x14, 0xF6F3
  _strh   0x0000, 0xFC9A
  _strb   0x01, 0xFD6A
  _strb   0x05, 0xFD6B
  _strb   0x00, 0xFD6C
  _strb   0x00, 0xFD6D
  _strb   0x14, 0xFD6E
  _strb   0x00, 0xFD6F
  _strb   0x00, 0xFD70
  _strb   0x00, 0xFD71
  _strb   0x0F, 0xFD72
  _strb   0x00, 0xFD73
  _strb   0x00, FLAGS3
  _strb   0x02, REPPER
  _strb   0x0C, FLAGS
  _strb   0x00, TV_FLAG
  _strb   0x00, MODE
  _strh   0x0000, E_PPC
  ret

init_mode_1_effects_regs:
  ld      ix, 0xfd6c
  ldf     0x54
  ld      a, 0x0c
  ld      b, 0
  ld      de, 0xfd6c
  ld      hl, 0x5b66
  ret


init_mode_2_setup:
  _strb   0xff, FLAGS
  _strb   0xff, FLAGS3
  _strb   0xff, TV_FLAG
  ret

init_mode_2_effects:
  _strb   0x82, 0xEC0D
  _strb   0x14, 0xEC15
  _strb   0x00, 0xF6EE
  _strb   0x00, 0xF6EF
  _strb   0x00, 0xF6F0
  _strb   0x04, 0xF6F1
  _strb   0x10, 0xF6F2
  _strb   0x14, 0xF6F3
  _strh   0x0000, 0xFC9A
  _strb   0x01, 0xFD6A
  _strb   0x05, 0xFD6B
  _strb   0x00, 0xFD6C
  _strb   0x00, 0xFD6D
  _strb   0x14, 0xFD6E
  _strb   0x00, 0xFD6F
  _strb   0x00, 0xFD70
  _strb   0x00, 0xFD71
  _strb   0x0F, 0xFD72
  _strb   0x00, 0xFD73
  _strb   0xFE, FLAGS3
  _strb   0x02, REPPER
  _strb   0xFF, FLAGS
  _strb   0xFE, TV_FLAG
  _strb   0x00, MODE
  _strh   0x0000, E_PPC
  ret

init_mode_2_effects_regs:
  ld      ix, 0xfd6c
  ldf     0x54
  ld      a, 0xff
  ld      b, 0
  ld      de, 0xfd6c
  ld      hl, 0x5b66
  ret
