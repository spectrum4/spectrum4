---
spectrum128k:
  address: 0x0e9b
  routine: CL-ADDR

spectrum4:
  routine: cl_addr

tests:
  - name: test case 1
    spectrum128k:
      setup:
        registers:
          B:
            value: 0x0b
      effects:
        registers:
          A:
            value: 0x48
          F:
            value: 0x0c
          D:
            value: 0x0d
          H:
            value: 0x48
          L:
            value: 0xa0
    spectrum4:
      setup:
        registers:
          x0:
            # 60 - screen line
            value: 60 - 1*20 - 5
      effects:
        registers:
          x1:
            # screen line
            value: 1*20 + 5
          x2:
            # address of top left pixel of line to clear inside display file
            value: display_file + 1*20*16*216 + 5*216
          x3:
            # screen line / 20
            value: 1
          x4:
            # screen line % 20
            value: 5
          x5:
            # 216
            value: 216
          x6:
            # 69120
            value: 69120
